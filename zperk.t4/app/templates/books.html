{% extends 'base.html' %} {% block content %}
<h2>Manage Books</h2>

<!-- POST request to add a new book -->
<h3>Add a New Book</h3>
<form method="POST">
  <label for="title">Title:</label>
  <input type="text" name="title" required /><br />
  <label for="author">Author:</label>
  <input type="text" name="author" required /><br />
  <input type="submit" value="Add Book" />
</form>

<!-- GET request to display all books -->
<h3>All Books</h3>
<button onclick="window.location.href=window.location.href">
  Reload Books
</button>
<ul>
  {% for book in books %}
  <li>
    {{ book.title }} by {{ book.author }}
    <form
      method="POST"
      action="{{ url_for('main.delete_book', id=book.id) }}"
      style="display: inline"
    >
      <button type="submit">Delete</button>
    </form>
    <a href="{{ url_for('main.update_book', id=book.id) }}">Update</a>
  </li>
  {% endfor %}
</ul>
{% endblock %}
