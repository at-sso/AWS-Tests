{% extends 'base.html' %} {% block content %}
<h2>Manage Users</h2>

<!-- POST request to add a new user -->
<h3>Add a New User</h3>
<form method="POST">
  <label for="username">Username:</label>
  <input type="text" name="username" required /><br />
  <label for="email">Email:</label>
  <input type="email" name="email" required /><br />
  <input type="submit" value="Add User" />
</form>

<!-- GET request to display all users -->
<h3>All Users</h3>
<button onclick="window.location.href=window.location.href">
  Reload Users
</button>
<ul>
  {% for user in users %}
  <li>
    {{ user.username }} - {{ user.email }}
    <form
      method="POST"
      action="{{ url_for('main.delete_user', id=user.id) }}"
      style="display: inline"
    >
      <button type="submit">Delete</button>
    </form>
    <a href="{{ url_for('main.update_user', id=user.id) }}">Update</a>
  </li>
  {% endfor %}
</ul>
{% endblock %}
